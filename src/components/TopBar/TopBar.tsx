import { IoIosSearch } from "react-icons/io";
import CommunityIcon from "../Icon/CommunityIcon";
import LocationIcon from "../Icon/LocationIcon";
import { useLocation, useNavigate } from "react-router-dom";
import { Menu, MenuButton, MenuItem, MenuItems } from '@headlessui/react'

export default function TopBar() {
    const location = useLocation();
    const navigate = useNavigate();

    return (
        <header className="bg-[#f4f4f4] rounded-b-3xl">
            {location.pathname.includes("/category") ? (
                <div className="flex items-center justify-between p-4">
                    <button type="button" onClick={() => navigate(-1)}>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M16.25 20.5L7.75 12L16.25 3.5" stroke="#0D0D0D" stroke-miterlimit="10" stroke-linecap="round" />
                        </svg>
                    </button>

                    <p className="text-[18px]">Cleaning</p>

                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M14.4488 14.4487L21.5 21.5M16.5 9.5C16.5 13.366 13.366 16.5 9.5 16.5C5.63401 16.5 2.5 13.366 2.5 9.5C2.5 5.63401 5.63401 2.5 9.5 2.5C13.366 2.5 16.5 5.63401 16.5 9.5Z" stroke="#0D0D0D" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>

                </div>
            ) : location.pathname.includes("/profile") ? (
                <div className="flex items-center justify-between bg-[#edaabe] p-4">
                    <button type="button" onClick={() => navigate(-1)}>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M16.25 20.5L7.75 12L16.25 3.5" stroke="#0D0D0D" stroke-miterlimit="10" stroke-linecap="round" />
                        </svg>
                    </button>


                    <div className="flex items-center gap-4">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12.01 5.23013C12.71 3.83013 14.05 2.83013 15.6 2.56013C17.14 2.29013 18.73 2.77013 19.87 3.85013C22.12 5.99013 21.77 9.94013 20.54 12.5201C19.23 15.2701 17.01 17.5801 14.71 19.5101C13.86 20.2401 12.95 20.9001 12 21.4901C11.05 20.9001 10.17 20.2501 9.32002 19.5201C7.02002 17.5901 4.80002 15.2801 3.49002 12.5301C2.26002 9.95013 1.90002 6.00013 4.16002 3.86013C5.30002 2.78013 6.89002 2.30013 8.43002 2.57013C9.98002 2.84013 11.31 3.83013 12.01 5.23013Z" stroke="#0D0D0D" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>


                        <Menu>
                            <MenuButton>
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M6.5 12C6.5 12.8281 5.82812 13.5 5 13.5C4.17188 13.5 3.5 12.8281 3.5 12C3.5 11.1719 4.17188 10.5 5 10.5C5.82812 10.5 6.5 11.1719 6.5 12Z" stroke="#0D0D0D" stroke-linecap="round" stroke-linejoin="round" />
                                    <path d="M13.5 12C13.5 12.8281 12.8281 13.5 12 13.5C11.1719 13.5 10.5 12.8281 10.5 12C10.5 11.1719 11.1719 10.5 12 10.5C12.8281 10.5 13.5 11.1719 13.5 12Z" stroke="#0D0D0D" stroke-linecap="round" stroke-linejoin="round" />
                                    <path d="M20.5 12C20.5 12.8281 19.8281 13.5 19 13.5C18.1719 13.5 17.5 12.8281 17.5 12C17.5 11.1719 18.1719 10.5 19 10.5C19.8281 10.5 20.5 11.1719 20.5 12Z" stroke="#0D0D0D" stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                            </MenuButton>
                            <MenuItems anchor="bottom"  className="bg-white p-3 rounded-md w-[196px]">
                                <MenuItem>
                                    <a className="flex items-center justify-between pb-4 data-[focus]:bg-blue-100" href="/settings">
                                        Share service
                                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M9.99992 4.66504V14.5804M9.99992 4.66504L7.29159 7.58171M9.99992 4.66504L12.7083 7.58171M17.9368 13.7503V16.2503C17.9368 16.6924 17.7613 17.1163 17.4487 17.4288C17.1361 17.7414 16.7122 17.917 16.2702 17.917H3.77018C3.32815 17.917 2.90423 17.7414 2.59167 17.4288C2.27911 17.1163 2.10352 16.6924 2.10352 16.2503V13.7503" stroke="#0D0D0D" stroke-linecap="round" stroke-linejoin="round" />
                                        </svg>

                                    </a>
                                </MenuItem>
                                <MenuItem>
                                    <a className="flex items-center justify-between border-t-[1px] pt-4 data-[focus]:bg-blue-100" href="/support">
                                        Report an issue
                                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <g clip-path="url(#clip0_141_10679)">
                                                <path d="M7.50016 10.3333C7.22402 10.3333 7.00016 10.5572 7.00016 10.8333C7.00016 11.1095 7.22402 11.3333 7.50016 11.3333V10.3333ZM12.5002 11.3333C12.7763 11.3333 13.0002 11.1095 13.0002 10.8333C13.0002 10.5572 12.7763 10.3333 12.5002 10.3333V11.3333ZM7.91683 13.75V13.25C7.78422 13.25 7.65704 13.3027 7.56328 13.3964L7.91683 13.75ZM4.5835 17.0833H4.0835C4.0835 17.2856 4.20532 17.4679 4.39215 17.5453C4.57899 17.6227 4.79405 17.5799 4.93705 17.4369L4.5835 17.0833ZM4.5835 13.75H5.0835C5.0835 13.4739 4.85964 13.25 4.5835 13.25V13.75ZM17.9168 3.75H18.4168V3.25H17.9168V3.75ZM7.50016 11.3333H12.5002V10.3333H7.50016V11.3333ZM11.7502 7.5C11.7502 7.31591 11.8994 7.16667 12.0835 7.16667V8.16667C12.4517 8.16667 12.7502 7.86819 12.7502 7.5H11.7502ZM12.0835 7.16667C12.2676 7.16667 12.4168 7.31591 12.4168 7.5H11.4168C11.4168 7.86819 11.7153 8.16667 12.0835 8.16667V7.16667ZM12.4168 7.5C12.4168 7.6841 12.2676 7.83333 12.0835 7.83333V6.83333C11.7153 6.83333 11.4168 7.13181 11.4168 7.5H12.4168ZM12.0835 7.83333C11.8994 7.83333 11.7502 7.6841 11.7502 7.5H12.7502C12.7502 7.13181 12.4517 6.83333 12.0835 6.83333V7.83333ZM7.56328 13.3964L4.22994 16.7298L4.93705 17.4369L8.27038 14.1036L7.56328 13.3964ZM5.0835 17.0833V13.75H4.0835V17.0833H5.0835ZM4.5835 13.25H3.75016V14.25H4.5835V13.25ZM3.75016 13.25C3.10964 13.25 2.5835 12.7239 2.5835 12.0833H1.5835C1.5835 13.2761 2.55735 14.25 3.75016 14.25V13.25ZM2.5835 12.0833V5.41667H1.5835V12.0833H2.5835ZM2.5835 5.41667C2.5835 4.77614 3.10964 4.25 3.75016 4.25V3.25C2.55735 3.25 1.5835 4.22386 1.5835 5.41667H2.5835ZM3.75016 4.25H17.9168V3.25H3.75016V4.25ZM17.4168 3.75V12.0833H18.4168V3.75H17.4168ZM17.4168 12.0833C17.4168 12.7239 16.8907 13.25 16.2502 13.25V14.25C17.443 14.25 18.4168 13.2761 18.4168 12.0833H17.4168ZM16.2502 13.25H7.91683V14.25H16.2502V13.25ZM12.0002 7.5C12.0002 7.45398 12.0375 7.41667 12.0835 7.41667V8.41667C12.5898 8.41667 13.0002 8.00626 13.0002 7.5H12.0002ZM12.0835 7.41667C12.1295 7.41667 12.1668 7.45398 12.1668 7.5H11.1668C11.1668 8.00626 11.5772 8.41667 12.0835 8.41667V7.41667ZM12.1668 7.5C12.1668 7.54602 12.1295 7.58333 12.0835 7.58333V6.58333C11.5772 6.58333 11.1668 6.99374 11.1668 7.5H12.1668ZM12.0835 7.58333C12.0375 7.58333 12.0002 7.54602 12.0002 7.5H13.0002C13.0002 6.99374 12.5898 6.58333 12.0835 6.58333V7.58333ZM11.6668 7.5C11.6668 7.26988 11.8534 7.08333 12.0835 7.08333V8.08333C12.4057 8.08333 12.6668 7.82217 12.6668 7.5H11.6668ZM12.0835 7.08333C12.3136 7.08333 12.5002 7.26988 12.5002 7.5H11.5002C11.5002 7.82217 11.7613 8.08333 12.0835 8.08333V7.08333ZM12.5002 7.5C12.5002 7.73012 12.3136 7.91667 12.0835 7.91667V6.91667C11.7613 6.91667 11.5002 7.17783 11.5002 7.5H12.5002ZM12.0835 7.91667C11.8534 7.91667 11.6668 7.73012 11.6668 7.5H12.6668C12.6668 7.17783 12.4057 6.91667 12.0835 6.91667V7.91667ZM7.8335 7.5C7.8335 7.45398 7.87081 7.41667 7.91683 7.41667V8.41667C8.42309 8.41667 8.8335 8.00626 8.8335 7.5H7.8335ZM7.91683 7.41667C7.96285 7.41667 8.00016 7.45398 8.00016 7.5H7.00016C7.00016 8.00626 7.41057 8.41667 7.91683 8.41667V7.41667ZM8.00016 7.5C8.00016 7.54602 7.96285 7.58333 7.91683 7.58333V6.58333C7.41057 6.58333 7.00016 6.99374 7.00016 7.5H8.00016ZM7.91683 7.58333C7.87081 7.58333 7.8335 7.54602 7.8335 7.5H8.8335C8.8335 6.99374 8.42309 6.58333 7.91683 6.58333V7.58333ZM7.58354 7.50004C7.58354 7.31595 7.73277 7.16671 7.91687 7.16671V8.16671C8.28506 8.16671 8.58354 7.86823 8.58354 7.50004H7.58354ZM7.91687 7.16671C8.10096 7.16671 8.2502 7.31595 8.2502 7.50004H7.2502C7.2502 7.86823 7.54868 8.16671 7.91687 8.16671V7.16671ZM8.2502 7.50004C8.2502 7.68414 8.10096 7.83337 7.91687 7.83337V6.83337C7.54868 6.83337 7.2502 7.13185 7.2502 7.50004H8.2502ZM7.91687 7.83337C7.73277 7.83337 7.58354 7.68414 7.58354 7.50004H8.58354C8.58354 7.13185 8.28506 6.83337 7.91687 6.83337V7.83337ZM7.50018 7.50002C7.50018 7.2699 7.68673 7.08335 7.91685 7.08335V8.08335C8.23902 8.08335 8.50018 7.82219 8.50018 7.50002H7.50018ZM7.91685 7.08335C8.14697 7.08335 8.33352 7.2699 8.33352 7.50002H7.33352C7.33352 7.82219 7.59468 8.08335 7.91685 8.08335V7.08335ZM8.33352 7.50002C8.33352 7.73014 8.14697 7.91669 7.91685 7.91669V6.91669C7.59468 6.91669 7.33352 7.17785 7.33352 7.50002H8.33352ZM7.91685 7.91669C7.68673 7.91669 7.50018 7.73014 7.50018 7.50002H8.50018C8.50018 7.17785 8.23902 6.91669 7.91685 6.91669V7.91669Z" fill="#0D0D0D" />
                                            </g>
                                            <defs>
                                                <clipPath id="clip0_141_10679">
                                                    <rect width="20" height="20" fill="white" />
                                                </clipPath>
                                            </defs>
                                        </svg>

                                    </a>
                                </MenuItem>
                            </MenuItems>
                        </Menu>
                    </div>

                </div>
            ) : (
                <div className="p-4">
                    {/* TOP BAR */}
                    <div className="flex items-center justify-between">
                        <div className="flex items-center">
                            <div className="w-12 h-12">
                                <CommunityIcon />
                            </div>
                            <p className="text-vf-red text-xl">Comm<span className="font-bold">Unity</span></p>
                        </div>
                        <button className="flex items-center justify-center gap-1 border-vf-red border-[2px] rounded-md p-0.5  text-[14px]">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M2.61841 13.9997C2.61841 14.2758 2.84227 14.4997 3.11841 14.4997C3.39455 14.4997 3.61841 14.2758 3.61841 13.9997H2.61841ZM12.3817 13.9997C12.3817 14.2758 12.6056 14.4997 12.8817 14.4997C13.1579 14.4997 13.3817 14.2758 13.3817 13.9997H12.3817ZM10.7559 5.10544H10.2559H10.7559ZM8.00006 2.34961V1.84961V2.34961ZM10.7559 2.34961H11.2559V1.84961H10.7559V2.34961ZM3.61841 13.9997C3.61841 10.944 5.66264 8.63051 8.00007 8.63051V7.63051C4.94584 7.63051 2.61841 10.572 2.61841 13.9997H3.61841ZM8.00007 8.63051C10.3375 8.63051 12.3817 10.944 12.3817 13.9997H13.3817C13.3817 10.572 11.0543 7.63051 8.00007 7.63051V8.63051ZM10.2559 5.10544C10.2559 5.5516 10.1236 5.98775 9.87572 6.35872L10.7072 6.91429C11.0649 6.37887 11.2559 5.74939 11.2559 5.10544H10.2559ZM9.87572 6.35872C9.62785 6.72969 9.27553 7.01882 8.86333 7.18956L9.24602 8.11344C9.84094 7.86701 10.3494 7.44971 10.7072 6.91429L9.87572 6.35872ZM8.86333 7.18956C8.45113 7.3603 7.99756 7.40497 7.55997 7.31793L7.36488 8.29872C7.99645 8.42434 8.65109 8.35987 9.24602 8.11344L8.86333 7.18956ZM7.55997 7.31793C7.12238 7.23089 6.72043 7.01604 6.40495 6.70056L5.69784 7.40766C6.15318 7.863 6.73331 8.17309 7.36488 8.29872L7.55997 7.31793ZM6.40495 6.70056C6.08946 6.38507 5.87462 5.98312 5.78757 5.54553L4.80679 5.74062C4.93242 6.37219 5.2425 6.95233 5.69784 7.40766L6.40495 6.70056ZM5.78757 5.54553C5.70053 5.10794 5.7452 4.65437 5.91594 4.24217L4.99206 3.85949C4.74564 4.45441 4.68116 5.10905 4.80679 5.74062L5.78757 5.54553ZM5.91594 4.24217C6.08668 3.82997 6.37582 3.47766 6.74679 3.22979L6.19122 2.39832C5.6558 2.75607 5.23849 3.26456 4.99206 3.85949L5.91594 4.24217ZM6.74679 3.22979C7.11776 2.98191 7.5539 2.84961 8.00006 2.84961V1.84961C7.35612 1.84961 6.72664 2.04056 6.19122 2.39832L6.74679 3.22979ZM8.00006 2.84961H10.7559V1.84961H8.00006V2.84961ZM10.2559 2.34961V5.10544H11.2559V2.34961H10.2559Z" fill="#0D0D0D" />
                            </svg>

                            Log In
                        </button>
                    </div>
                    {/* TOP BAR */}
                    <div className="bg-white flex rounded-2xl px-3 py-4 mt-3">
                        <div className="flex items-center gap-1 border-r-[1px] border-[#E5E7EB] pr-[8px]">
                            <LocationIcon />
                            <p className="font-bold">Istanbul</p>
                        </div>
                        <input type="text" className="flex-1 outline-none pl-2" placeholder="Describe the service you'd like" />
                        <button className="bg-vf-red p-2 rounded-xl flex items-center justify-center">
                            <IoIosSearch className="w-5 h-5" color="white" />
                        </button>
                    </div>
                </div>
            )
            }

        </header >
    )
}